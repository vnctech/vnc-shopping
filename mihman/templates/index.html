{% extends "base.html" %}

{% load static %}

{% block link %}

<link href="{% static "styles/index.css" %}" rel="stylesheet"> 

{% endblock link %}

{% block title %}{% endblock title %}

{% block content %}

{% include "images.html" %}


<!-- 
    <div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
      <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center"
              id="bd-theme"
              type="button"
              aria-expanded="false"
              data-bs-toggle="dropdown"
              aria-label="Toggle theme (auto)">
        <svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg>
        <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
        <li>
          <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
            <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg>
            Light
            <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
          </button>
        </li>
        <li>
          <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
            <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg>
            Dark
            <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
          </button>
        </li>
        <li>
          <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
            <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg>
            Auto
            <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
          </button>
        </li>
      </ul>
    </div>
-->

<header class="navbar sticky-top  flex-md-nowrap p-0 shadow"style="background-color: #005706;" data-bs-theme="dark">
  <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 text-white" href="#">VNC Shopping</a>

  <ul class="navbar-nav flex-row d-md-none">
    <li class="nav-item text-nowrap">
      <button class="nav-link px-3 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSearch" aria-controls="navbarSearch" aria-expanded="false" aria-label="Toggle search">
        <svg class="bi"><use xlink:href="#search"/></svg>
      </button>
    </li>
    <li class="nav-item text-nowrap">
      <button class="nav-link px-3 text-white" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <svg class="bi"><use xlink:href="#list"/></svg>
      </button>
    </li>
  </ul>

  <div id="navbarSearch" class="navbar-search w-100 collapse">
    <input class="form-control w-100 rounded-0 border-0" type="text" placeholder="Search" aria-label="Search">
  </div>
</header>


<div class="container-fluid">
  <div class="row">
    <div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary">
      <div class="offcanvas-md offcanvas-end bg-body-tertiary" tabindex="-1" id="sidebarMenu" aria-labelledby="sidebarMenuLabel">

<div class="offcanvas-body d-md-flex flex-column p-0 pt-lg-3 overflow-y-auto">
          <!-- profile badge -->
                   {% comment %} 
          <div class="d-flex gap-2 justify-content-start py-1 mx-2">
            <span class="badge d-flex align-items-center p-1 pe-2 text-dark-emphasis bg-light-subtle border border-dark-subtle rounded-pill">
              <img class="rounded-circle me-1" width="24" height="24" src="https://github.com/mdo.png" alt="">
              {% if user.is_authenticated %} Hi {{user.username}}!{% else %}Hi VNC User!{% endif %}  
            </span>
          </div>
          <!-- end profile badge -->

          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link d-flex align-items-center gap-2 active" aria-current="page" href="#">
                <svg class="bi"><use xlink:href="#house-fill"/></svg>
                Home
              </a>
            </li>
            <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#">
                  <svg class="bi"><use xlink:href="#file-earmark"/></svg>
                  Orders
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#">
                  <svg class="bi"><use xlink:href="#cart"/></svg>
                  Cart
                </a>
              </li>
            <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                    </svg>
                  Profile
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#">
                  <svg class="bi"><use xlink:href="#gear-wide-connected"/></svg>
                  Settings
                </a>
              </li>
              {% if user.is_authenticated %}
              <li class="nav-item">
                {% comment %} <a class="nav-link d-flex align-items-center gap-2" href="{% url "users:logout" %}"> 
                  <i class="bi bi-box-arrow-right"></i>
                  Sign out
              </a>
              </li>
              {% else %}
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#" data-bs-toggle="modal" data-bs-target="#registerModal">
                  <i class="bi bi-box-arrow-right"></i>
                  Register
              </a>
              </li>
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">
                  <i class="bi bi-box-arrow-right"></i>
                  Signin
              </a>
              </li>
              {% endif %}
              

<!--        <li class="nav-item">
              <a class="nav-link d-flex align-items-center gap-2" href="#">
                <svg class="bi"><use xlink:href="#people"/></svg>
                Customers
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-flex align-items-center gap-2" href="#">
                <svg class="bi"><use xlink:href="#graph-up"/></svg>
                Reports
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-flex align-items-center gap-2" href="#">
                <svg class="bi"><use xlink:href="#puzzle"/></svg>
                Integrations
              </a>
            </li> -->
          </ul>
          <hr> {% endcomment %}
          <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 my-3 text-body-secondary text-uppercase">
            <span> All Categories</span>
          </h6>

          <ul class="nav flex-column mb-auto">
            {% for cat in categories %}
            <li class="nav-item">
              {% if cat.subcategory_set.all %}
              <a class="nav-link d-flex align-items-center gap-2 text-success fw-bold" href="#{{ cat.id }}">
                {{ cat.name }}
              </a>
              <ul class="subcategories" id="{{ cat.id }}">
                {% for subcat in cat.subcategory_set.all %}
                <li class="nav-item">
                  <a class="nav-link d-flex align-items-center gap-2 text-success" href="{% url "product_management:sub_category_list" subcat.id %}">{{ subcat.name }}</a>
                </li>
                {% endfor %}
              </ul>
              {% else %}
                <a class="nav-link d-flex align-items-center gap-2 text-success fw-bold" href="{% url "product_management:category_list" cat.id %}">{{ cat.name }}</a>
              {% endif %}
            </li>
            {% endfor %}
          </ul>
          
        </div>
      </div>
    </div>

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 mt-3">
        {% comment %} <div class="nav-scroller py-1 mb-3 border-bottom">
            <nav class="nav nav-underline justify-content-between">
              <a class="nav-item nav-link link-body-emphasis active" href="#">World</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">U.S.</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Technology</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Design</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Culture</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Business</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Politics</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Opinion</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Science</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Health</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Style</a>
              <a class="nav-item nav-link link-body-emphasis" href="#">Travel</a>
            </nav>
          </div> {% endcomment %}

          <div class="container">

            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
              {% for prod in products %}
              <div class="col">
                <div class="card shadow-sm">
                  <a href="{% url 'product_management:product_detail' prod.id %}">
                    <img width="100%" height="100%" src="{{ prod.images.all.0.image.url }}" alt="{{ prod.name }}">
                  </a>
                  
                <div class="card-body">
                    <p class="card-text text-center my-2">{{prod.name}}</p>
                    <p class="card-text text-center text-danger fw-bold">â‚¹{{prod.price}}</p>
                    <a class="card-text text-center my-2 text-success text-decoration-none" href="" >Buy Now</a>
                      
                      
                    <div class="d-flex justify-content-between align-items-center">
                    </div>
                  </div>
                </div>
              </div>
              {% endfor %}


            </div>
          </div>

    </main>
  </div>
</div>

{% include "login.html" %}
{% include "register.html" %}


{% endblock content %}

